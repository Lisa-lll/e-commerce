# 电商系统开发项目

## 项目简介

本项目是一套完整的全栈电商系统解决方案，包含用户端商城、管理后台等核心功能模块。主要为好友HS设计的一套电商系统，分完整版和简化版。

## 📚 文档导航

### 完整版文档（适合大型电商系统）

1. **[电商系统开发方案](./电商系统开发方案.md)**
   - 项目概述和目标
   - 整体架构设计
   - 功能模块划分
   - 开发阶段规划
   - 安全考虑和性能优化
   - 运维部署方案

2. **[数据库设计](./数据库设计.md)**
   - 数据库选型说明
   - 核心数据表设计（SQL）
   - 表结构说明和字段定义
   - Redis 缓存设计
   - 数据库优化建议

3. **[技术栈选型说明](./技术栈选型说明.md)**
   - 前端技术栈详细说明
   - 后端技术栈详细说明
   - 各种技术方案对比
   - 推荐技术组合
   - 学习资源推荐

4. **[快速启动指南](./快速启动指南.md)**
   - 环境要求
   - 项目初始化步骤
   - Docker 开发环境搭建
   - 启动项目流程
   - 常见问题解答

### 简化版文档（轻量级，适合小型电商）

> **简化版说明**：简化版移除了在线支付、手机验证、Redis 缓存、对象存储等功能，专注于单商家场景，对硬件资源要求更低，适合快速上线和小规模运营。

1. **[电商系统开发方案-简化版](./电商系统开发方案-简化版.md)**
   - 简化版项目概述和目标
   - 轻量级架构设计（仅 MySQL）
   - 精简功能模块（移除支付、缓存等）
   - 简化的开发规划
   - 轻量级部署方案

2. **[数据库设计-简化版](./数据库设计-简化版.md)**
   - 仅 MySQL 数据库（无 Redis）
   - 精简数据表设计（约 7 张核心表）
   - 移除支付、优惠券、评价等表
   - 适合小规模数据的优化建议

3. **[技术栈选型说明-简化版](./技术栈选型说明-简化版.md)**
   - 轻量级技术栈（Express.js，无 NestJS）
   - 移除 Redis、对象存储等组件
   - 本地文件存储方案
   - 简化的部署方案

4. **[快速启动指南-简化版](./快速启动指南-简化版.md)**
   - 简化环境要求（无 Redis）
   - 快速项目初始化步骤
   - 本地文件存储配置
   - 简化的部署流程

### 版本对比

| 特性 | 完整版 | 简化版 |
|------|--------|--------|
| **数据库** | MySQL + Redis | 仅 MySQL |
| **支付** | 在线支付（微信/支付宝） | ❌ 移除，线下处理 |
| **用户验证** | 邮箱/手机验证 | 仅用户名唯一性检查 |
| **登录方式** | 密码/短信/第三方登录 | 仅密码登录 |
| **缓存** | Redis | ❌ 移除 |
| **文件存储** | 对象存储（OSS/COS） | 本地文件系统 |
| **优惠券** | 支持 | ❌ 移除 |
| **商品评价** | 支持 | ❌ 移除 |
| **商家模式** | 多商家 | 单商家 |
| **权限管理** | 多角色权限 | 单角色 |
| **数据统计** | 详细统计 | 基础统计 |
| **最低配置** | 2GB 内存 | 1GB 内存 |
| **适用场景** | 中大型电商 | 小型电商/个人商家 |

## 🚀 快速开始

### 前置要求（完整版）

- Node.js 18.0.0+
- MySQL 8.0+
- Redis 7.0+
- Docker（可选，推荐）

### 前置要求（简化版）

- Node.js 18.0.0+
- MySQL 8.0+
- （无需 Redis）
- Docker（可选）

> 💡 **推荐**：小型电商或个人商家使用简化版，快速上线，资源占用小。

### 快速启动步骤

1. **查看快速启动指南**
   ```bash
   # 阅读快速启动指南了解详细步骤
   ```

2. **初始化项目**
   ```bash
   # 创建项目结构
   mkdir backend frontend admin
   ```

3. **使用 Docker 启动开发环境**
   ```bash
   # 启动 MySQL 和 Redis
   docker-compose up -d
   ```

4. **初始化后端**
   ```bash
   cd backend
   npm install
   npx prisma migrate dev
   npm run dev
   ```

5. **初始化前端**
   ```bash
   cd frontend
   npm install
   npm run dev
   ```

详细步骤请参考：
- 完整版：[快速启动指南](./快速启动指南.md)
- 简化版：[快速启动指南-简化版](./快速启动指南-简化版.md)

## 📁 项目结构

```
e-commerce/
├── backend/              # 后端项目
│   ├── src/
│   │   ├── config/       # 配置
│   │   ├── controllers/  # 控制器
│   │   ├── services/     # 业务逻辑
│   │   ├── models/       # 数据模型
│   │   ├── routes/       # 路由
│   │   └── ...
│   └── prisma/           # Prisma schema 和迁移
│
├── frontend/             # 前端商城
│   ├── src/
│   │   ├── api/          # API 接口
│   │   ├── components/   # 组件
│   │   ├── pages/        # 页面
│   │   └── ...
│   └── ...
│
├── admin/                # 管理后台
│   ├── src/
│   │   ├── pages/        # 管理页面
│   │   └── ...
│   └── ...
│
└── docs/                 # 文档
    ├── 电商系统开发方案.md
    ├── 数据库设计.md
    ├── 技术栈选型说明.md
    └── 快速启动指南.md
```

## 🛠 技术栈

### 前端
- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **状态管理**: Zustand
- **UI 组件**: Ant Design
- **路由**: React Router v6
- **HTTP 客户端**: Axios

### 后端
- **运行时**: Node.js 18+
- **框架**: Express.js / NestJS（完整版）或 Express.js（简化版）
- **ORM**: Prisma
- **数据库**: MySQL 8.0
- **缓存**: Redis 7.0（完整版）或 无（简化版）
- **认证**: JWT

### 开发工具
- **容器化**: Docker + Docker Compose（完整版）或 可选（简化版）
- **代码规范**: ESLint + Prettier
- **版本控制**: Git

详细技术栈说明请参考：
- 完整版：[技术栈选型说明](./技术栈选型说明.md)
- 简化版：[技术栈选型说明-简化版](./技术栈选型说明-简化版.md)

## 📋 功能模块

### 用户端商城

**完整版功能：**
- ✅ 用户注册/登录（邮箱/手机验证，必须登录）
- ✅ 商品浏览和搜索
- ✅ 购物车管理（数据库存储）
- ✅ 订单管理
- ✅ 在线支付集成（微信/支付宝）
- ✅ 优惠券系统
- ✅ 商品评价
- ✅ 用户中心

**简化版功能：**
- ✅ **无需登录即可下单**（登录为可选功能）
- ✅ 商品浏览和搜索（无需登录）
- ✅ 购物车管理（未登录用户使用 localStorage，登录用户使用数据库）
- ✅ 订单管理（未登录用户可通过订单号和手机号查询）
- ✅ 用户注册/登录（可选，仅用户名唯一性检查）
- ❌ 在线支付（移除，线下处理）
- ❌ 优惠券系统（移除）
- ❌ 商品评价（移除）
- ✅ 用户中心（简化，仅登录用户）

### 管理后台

**完整版功能：**
- ✅ 商品管理（支持多商家）
- ✅ 订单管理
- ✅ 用户管理
- ✅ 数据统计（详细）
- ✅ 系统管理（多角色权限）
- ✅ 促销管理

**简化版功能：**
- ✅ 商品管理（单商家）
- ✅ 订单管理（手动修改状态）
- ✅ 用户管理
- ✅ 数据统计（基础）
- ✅ 系统管理（单角色）
- ❌ 促销管理（移除）

详细功能规划请参考：
- 完整版：[电商系统开发方案](./电商系统开发方案.md)
- 简化版：[电商系统开发方案-简化版](./电商系统开发方案-简化版.md)

## 📊 数据库设计

**完整版数据表（约 20+ 张表）：**
- **用户模块**: users, user_profiles, user_addresses, user_accounts
- **商品模块**: products, product_skus, categories, brands, product_images, product_attributes, product_reviews
- **订单模块**: orders, order_items, payments, order_status_history, refunds
- **购物车**: cart_items
- **促销模块**: coupons, user_coupons, promotions
- **管理模块**: admins, roles, permissions, admin_roles, role_permissions
- **缓存**: Redis（用户会话、商品缓存等）

**简化版数据表（约 7 张核心表）：**
- **用户模块**: users（可选）, user_addresses（仅登录用户）
- **商品模块**: products, categories, product_images
- **订单模块**: orders（user_id 可为空，支持未登录用户）, order_items
- **购物车**: cart_items（仅登录用户，未登录用户使用 localStorage）
- **管理模块**: admins
- ❌ 移除：支付表、优惠券表、评价表、品牌表、权限表等
- ✅ **特色**：支持未登录用户直接下单，降低购买门槛

详细数据库设计请参考：
- 完整版：[数据库设计](./数据库设计.md)
- 简化版：[数据库设计-简化版](./数据库设计-简化版.md)

## 📅 开发计划

### 第一阶段：项目搭建（1-2周）
- [ ] 项目初始化
- [ ] 技术栈配置
- [ ] 数据库设计和创建
- [ ] 基础架构搭建

### 第二阶段：核心功能开发（4-6周）
- [ ] 用户认证模块
- [ ] 商品管理模块
- [ ] 购物车模块
- [ ] 订单模块
- [ ] 基础支付集成

### 第三阶段：功能完善（3-4周）
- [ ] 促销模块
- [ ] 评价系统
- [ ] 搜索功能优化
- [ ] 管理后台基础功能

### 第四阶段：管理后台（2-3周）
- [ ] 商品管理后台
- [ ] 订单管理后台
- [ ] 用户管理后台
- [ ] 数据统计

### 第五阶段：优化和测试（2-3周）
- [ ] 性能优化
- [ ] 安全加固
- [ ] 单元测试
- [ ] 集成测试

详细开发计划请参考 [电商系统开发方案](./电商系统开发方案.md)

## 🔒 安全考虑

- 密码加密存储（bcrypt）
- HTTPS 加密传输
- SQL 注入防护（ORM）
- XSS 攻击防护
- CSRF 防护
- 接口限流
- JWT 认证

## ⚡ 性能优化

**完整版优化：**
- 前端代码分割和懒加载
- Redis 缓存
- 数据库索引优化
- CDN 加速
- 图片懒加载和压缩

**简化版优化：**
- 前端代码分割和懒加载
- ❌ Redis 缓存（移除）
- 数据库索引优化
- ❌ CDN 加速（移除）
- 图片懒加载和压缩
- 本地文件缓存（HTTP 缓存头）

## 📖 学习资源

- [React 官方文档](https://react.dev)
- [TypeScript 官方文档](https://www.typescriptlang.org)
- [Prisma 官方文档](https://www.prisma.io/docs)
- [Express 官方文档](https://expressjs.com)
- [Ant Design 官方文档](https://ant.design)

## 🤝 贡献指南

1. Fork 本项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📝 许可证

本项目采用 MIT 许可证。

## 📞 联系方式

如有问题或建议，请提交 Issue 或联系项目维护者。

---

**最后更新**: 2026年1月9日
